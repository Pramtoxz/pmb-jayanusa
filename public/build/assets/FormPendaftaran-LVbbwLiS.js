import{r as p,j as e,S as N}from"./app-BPZU6kKY.js";import{L as i}from"./label-CGAI1CiB.js";import{I as r}from"./input-BNuhkTGN.js";import{B as _}from"./button-DApcAPKW.js";import{S as j}from"./sweetalert2.esm.all-B0Dix5B2.js";import{S as c,a as m,b as h,c as u,d as n}from"./select-B2h0uenC.js";import{L as C}from"./jayanusa-DK0lkaAg.js";import{P as S,C as K}from"./indonesia-D4BytANq.js";import"./index-CaSkKnKo.js";import"./utils-BQ9Nw898.js";import"./index-Cr9yJDPs.js";import"./index-DM0dr4su.js";import"./index-FWwau2jL.js";import"./index-DWpwa6Kf.js";function z({initialData:v}){const[s,o]=p.useState(v||{nik:"",nama:"",alamat:"",tempat_lahir:"",tanggal_lahir:"",jenis_kelamin:"L",kota:"",kecamatan:"",kelurahan:"",provinsi:"",agama:"",no_hp:"",asal_sekolah:"",tahun_lulus:"",program_studi:"",foto:null,fotoPreview:null,beasiswa:"",kelas:""}),[f]=p.useState(!1),[k,b]=p.useState([]),d=a=>{const{name:l,value:t}=a.target;o(x=>({...x,[l]:t}))},g=a=>{if(a.target.files&&a.target.files[0]){const l=a.target.files[0];o(t=>({...t,foto:l,fotoPreview:URL.createObjectURL(l)}))}},y=a=>{o(l=>({...l,provinsi:a,kota:""})),b(K[a]||[])},w=async a=>{a.preventDefault();const l=new FormData;Object.entries(s).forEach(([t,x])=>{t!=="foto"&&t!=="fotoPreview"&&x!==null&&l.append(t,x)}),s.foto instanceof File&&l.append("foto",s.foto),N.post("/pendaftaran",l,{onSuccess:()=>{j.fire({icon:"success",title:"Berhasil",text:"Data pendaftaran berhasil disimpan",confirmButtonColor:"#3085d6"}).then(()=>{N.visit("/siswa/profile")})},onError:t=>{t.nik&&(typeof t.nik=="string"&&t.nik.toLowerCase().includes("terdaftar")||Array.isArray(t.nik)&&t.nik.some(x=>x.toLowerCase().includes("terdaftar")))?j.fire({icon:"warning",title:"NIK Sudah Terdaftar!",text:"NIK yang Anda masukkan sudah terdaftar dalam sistem",confirmButtonColor:"#d33",confirmButtonText:"Tutup",showClass:{popup:"animate__animated animate__shakeX"}}):j.fire({icon:"info",title:"Data Belum Lengkap!",text:"Silakan lengkapi seluruh data yang diperlukan",confirmButtonColor:"#3085d6",confirmButtonText:"Mengerti",showClass:{popup:"animate__animated animate__fadeInDown"}})}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:e.jsx("div",{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("img",{src:C,alt:"Logo STMIK Jayanusa",className:"h-12 sm:h-16 w-auto"}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-center text-[#02188B] dark:text-[#FF4433]",children:"STMIK-AMIK JAYANUSA"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-center",children:"Formulir Pendaftaran Mahasiswa Baru"})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:e.jsx("div",{className:"p-4 sm:p-6",children:e.jsxs("form",{onSubmit:w,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"pb-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Data Pribadi"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Silakan lengkapi data pribadi Anda dengan benar"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[e.jsxs("div",{className:"space-y-6 flex-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"nik",className:"font-medium",children:["NIK ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(r,{type:"text",id:"nik",name:"nik",value:s.nik,onChange:d,maxLength:16,placeholder:"Masukkan NIK (16 digit)",className:"transition-colors duration-200 focus:border-primary"}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("p",{className:"text-muted-foreground",children:"Format: 16 digit angka"}),e.jsxs("p",{className:"text-muted-foreground",children:[s.nik.length,"/16"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"nama",className:"font-medium",children:["Nama Lengkap ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(r,{type:"text",id:"nama",name:"nama",value:s.nama,onChange:d,placeholder:"Masukkan nama lengkap",className:"transition-colors duration-200 focus:border-primary"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"jenis_kelamin",className:"font-medium",children:["Jenis Kelamin ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(c,{name:"jenis_kelamin",value:s.jenis_kelamin,onValueChange:a=>o(l=>({...l,jenis_kelamin:a})),children:[e.jsx(m,{className:"transition-colors duration-200 focus:border-primary",children:e.jsx(h,{placeholder:"Pilih Jenis Kelamin"})}),e.jsxs(u,{children:[e.jsx(n,{value:"L",children:"Laki-laki"}),e.jsx(n,{value:"P",children:"Perempuan"})]})]})]})]}),e.jsxs("div",{className:"w-full sm:w-1/3 space-y-2",children:[e.jsx(i,{htmlFor:"foto",className:"italic font-medium",children:"Foto 3x4"}),e.jsx("div",{className:"relative flex flex-col items-center p-4 border-2 border-dashed rounded-lg hover:border-primary transition-colors duration-200",children:s.fotoPreview?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:s.fotoPreview,alt:"Preview",className:"w-full h-[200px] object-cover rounded-lg shadow-sm"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 hover:opacity-100 transition-opacity duration-200 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-white text-sm",children:"Klik untuk mengganti foto"})}),e.jsx(r,{type:"file",id:"foto",name:"foto",onChange:g,accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-[200px] bg-muted/30 rounded-lg",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mb-2 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Klik untuk upload foto"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: JPG, PNG (Max. 2MB)"})]}),e.jsx(r,{type:"file",id:"foto",name:"foto",onChange:g,accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"tempat_lahir",className:"font-medium",children:["Tempat Lahir ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(r,{type:"text",id:"tempat_lahir",name:"tempat_lahir",value:s.tempat_lahir,onChange:d,placeholder:"Masukkan tempat lahir",className:"transition-colors duration-200 focus:border-primary"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"tanggal_lahir",className:"font-medium",children:["Tanggal Lahir ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(r,{type:"date",id:"tanggal_lahir",name:"tanggal_lahir",value:s.tanggal_lahir,onChange:d,className:"transition-colors duration-200 focus:border-primary"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"alamat",className:"font-medium",children:["Alamat Lengkap ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(r,{type:"text",id:"alamat",name:"alamat",value:s.alamat,onChange:d,placeholder:"Masukkan alamat lengkap",className:"transition-colors duration-200 focus:border-primary"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"provinsi",className:"font-medium",children:"Provinsi"}),e.jsxs(c,{name:"provinsi",value:s.provinsi,onValueChange:y,children:[e.jsx(m,{className:"transition-colors duration-200 focus:border-primary",children:e.jsx(h,{placeholder:"Pilih Provinsi"})}),e.jsx(u,{children:S.map(a=>e.jsx(n,{value:a,children:a},a))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"kota",className:"font-medium",children:"Kota/Kabupaten"}),e.jsxs(c,{name:"kota",value:s.kota,onValueChange:a=>o(l=>({...l,kota:a})),disabled:!s.provinsi,children:[e.jsx(m,{className:"transition-colors duration-200 focus:border-primary",children:e.jsx(h,{placeholder:"Pilih Kota/Kabupaten"})}),e.jsx(u,{children:k.map(a=>e.jsx(n,{value:a,children:a},a))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"kecamatan",className:"font-medium",children:"Kecamatan"}),e.jsx(r,{type:"text",id:"kecamatan",name:"kecamatan",value:s.kecamatan,onChange:d})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"kelurahan",className:"font-medium",children:"Kelurahan"}),e.jsx(r,{type:"text",id:"kelurahan",name:"kelurahan",value:s.kelurahan,onChange:d})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"agama",className:"font-medium",children:"Agama"}),e.jsxs(c,{name:"agama",value:s.agama,onValueChange:a=>o(l=>({...l,agama:a})),children:[e.jsx(m,{className:"transition-colors duration-200 focus:border-primary",children:e.jsx(h,{placeholder:"Pilih Agama"})}),e.jsxs(u,{children:[e.jsx(n,{value:"Islam",children:"Islam"}),e.jsx(n,{value:"Kristen",children:"Kristen"}),e.jsx(n,{value:"Katolik",children:"Katolik"}),e.jsx(n,{value:"Hindu",children:"Hindu"}),e.jsx(n,{value:"Buddha",children:"Buddha"}),e.jsx(n,{value:"Konghucu",children:"Konghucu"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"no_hp",className:"font-medium",children:"Nomor HP"}),e.jsx(r,{type:"tel",id:"no_hp",name:"no_hp",value:s.no_hp,onChange:d})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"pb-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Data Pendidikan"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Informasi mengenai riwayat pendidikan Anda"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"asal_sekolah",className:"font-medium",children:"Asal Sekolah"}),e.jsx(r,{type:"text",id:"asal_sekolah",name:"asal_sekolah",value:s.asal_sekolah,onChange:d})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"tahun_lulus",className:"font-medium",children:"Tahun Lulus"}),e.jsx(r,{type:"text",id:"tahun_lulus",name:"tahun_lulus",value:s.tahun_lulus,onChange:d})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"program_studi",className:"font-medium",children:"Program Studi"}),e.jsxs(c,{name:"program_studi",value:s.program_studi,onValueChange:a=>o(l=>({...l,program_studi:a})),children:[e.jsx(m,{className:"transition-colors duration-200 focus:border-primary",children:e.jsx(h,{placeholder:"Pilih Program Studi"})}),e.jsxs(u,{children:[e.jsx(n,{value:"MI",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"D3-Manajemen Informatika"})})}),e.jsx(n,{value:"SI",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"S1-Sistem Informasi"})})}),e.jsx(n,{value:"SK",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"S1-Sistem Komputer"})})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"beasiswa",className:"font-medium",children:"Beasiswa"}),e.jsxs(c,{name:"beasiswa",value:s.beasiswa,onValueChange:a=>o(l=>({...l,beasiswa:a,kelas:a==="iya"?"reguler":l.kelas})),children:[e.jsx(m,{className:"transition-colors duration-200 focus:border-primary",children:e.jsx(h,{placeholder:"Penerima Beasiswa KIP-Kuliah (Isi Tidak Jika Tidak Penerima)"})}),e.jsxs(u,{children:[e.jsx(n,{value:"iya",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Ya (KIP-Kuliah)"})})}),e.jsx(n,{value:"tidak",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Tidak"})})})]})]})]}),s.beasiswa==="tidak"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"kelas",className:"font-medium",children:"Kelas"}),e.jsxs(c,{name:"kelas",value:s.kelas,onValueChange:a=>o(l=>({...l,kelas:a})),children:[e.jsx(m,{className:"transition-colors duration-200 focus:border-primary",children:e.jsx(h,{placeholder:"Pilih Kelas"})}),e.jsxs(u,{children:[e.jsx(n,{value:"reguler",children:"Non Kerja"}),e.jsx(n,{value:"kerja",children:"Kerja"})]})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6",children:e.jsx(_,{type:"submit",disabled:f,className:"w-full sm:w-auto min-w-[200px] transition-all duration-200 hover:scale-[1.02]",children:f?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Menyimpan..."})]}):"Simpan Data"})})]})})})]})}export{z as default};
