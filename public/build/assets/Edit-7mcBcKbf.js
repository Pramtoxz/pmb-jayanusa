import{r as m,j as e,L as v,S as l}from"./app-DnymW8wr.js";import{A as S}from"./app-layout-BMcKJ6rY.js";import{B as n}from"./button-B2Rzikt1.js";import{I as u}from"./input-BYYIiTuI.js";import{L as o}from"./label-arjF9kf-.js";import{S as y,a as E,b as C,c as w,d as j}from"./select-C5mons2W.js";import{T as L,t as f}from"./sonner-iiSsZPZJ.js";import{A}from"./arrow-left-D15s7e5w.js";import"./utils-DfMvvvIU.js";import"./index-fjz_OlXp.js";import"./index-uiLhbe68.js";import"./index-DJUGPmWW.js";import"./index-CYsu8eN4.js";import"./avatar-CG7Xbu_S.js";import"./log-out-BskkBsrY.js";import"./jayanusa-DK0lkaAg.js";const F=[{title:"Kelola User",href:"/users"},{title:"Edit",href:"#"}];function J({user:i}){const[a,c]=m.useState(i),[s,d]=m.useState({}),[x,h]=m.useState(!1),p=r=>{const{name:t,value:g}=r.target;c(N=>({...N,[t]:g}))},b=r=>{r.preventDefault(),h(!0),d({}),l.put(`/users/${i.id}`,{name:a.name,email:a.email,role:a.role},{onSuccess:()=>{f.success("Data pengguna berhasil diperbarui"),l.get("/users")},onError:t=>{d(t),f.error("Gagal memperbarui data")},onFinish:()=>{h(!1)}})};return e.jsxs(S,{breadcrumbs:F,children:[e.jsx(v,{title:`Edit User - ${i.name}`}),e.jsx(L,{}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 p-4",children:e.jsx("div",{className:"rounded-xl bg-white shadow-sm",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"Edit User"}),e.jsxs(n,{variant:"outline",onClick:()=>l.get("/users"),children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Kembali"]})]}),e.jsx("form",{onSubmit:b,className:"max-w-lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"name",children:"Nama"}),e.jsx(u,{id:"name",name:"name",value:a.name,onChange:p,className:s.name?"border-red-500":""}),s.name&&e.jsx("p",{className:"text-sm text-red-500",children:s.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(u,{id:"email",name:"email",type:"email",value:a.email,onChange:p,className:s.email?"border-red-500":""}),s.email&&e.jsx("p",{className:"text-sm text-red-500",children:s.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"role",children:"Role"}),e.jsxs(y,{value:a.role,onValueChange:r=>c(t=>({...t,role:r})),children:[e.jsx(E,{className:s.role?"border-red-500":"",children:e.jsx(C,{placeholder:"Pilih Role"})}),e.jsxs(w,{children:[e.jsx(j,{value:"admin",children:"Admin"}),e.jsx(j,{value:"user",children:"User"})]})]}),s.role&&e.jsx("p",{className:"text-sm text-red-500",children:s.role})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[e.jsx(n,{type:"submit",disabled:x,children:x?"Memperbarui...":"Perbarui"}),e.jsx(n,{type:"button",variant:"outline",onClick:()=>l.get("/users"),children:"Batal"})]})]})})]})})})]})}export{J as default};
