import{r as x,j as e,L as b,S as v}from"./app-DGAr4PFq.js";import{C as y,c as S}from"./card-DYPiMlP4.js";import{S as L}from"./Sidebar-CMieiSWZ.js";import{D as p,e as k,a as g}from"./dialog-BXc_uMuD.js";import{a as m}from"./utils-DXBu7wvP.js";import{N as B}from"./rekening-CWdtCofI.js";import{L as f}from"./index.es-BbXfRIN-.js";import"./circle-user-2rpbMnmd.js";import"./log-out-Wu5PisLG.js";import"./index-BU-ardZR.js";import"./index-CXP7GwvV.js";import"./index-CilWc_OY.js";import"./index-Rffq3QrG.js";import"./index-B7qOPLC7.js";const D="email animation",C=0,U=512,V=512,A={g:"LottieFiles AE 3.4.5"},M=[{ty:4,nm:"circle outline",sr:1,st:0,op:600,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[46.764,46.765,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[307.103,286.482,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 2",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[0,-18.225],[18.225,0],[0,18.225],[-18.225,0]],o:[[0,18.225],[-18.225,0],[0,-18.225],[18.225,0]],v:[[33,0],[0,33],[-33,0],[0,-33]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:1,lj:1,ml:10,o:{a:0,k:100,ix:4},w:{a:0,k:6,ix:5},c:{a:0,k:[1,1,1],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[46.764,46.764],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"tm",bm:0,hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:2,e:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:82},{s:[100],t:99}],ix:2},o:{a:0,k:-90,ix:3},s:{a:0,k:0,ix:1},m:1}],ind:1},{ty:4,nm:"right",sr:1,st:0,op:600,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[46.764,46.765,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[307.103,286.482,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-15.23,-2.322],[-3.33,9.948],[15.23,-9.948]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:10,o:{a:0,k:100,ix:4},w:{a:0,k:6,ix:5},c:{a:0,k:[1,1,1],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[46.784,45.624],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"tm",bm:0,hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:2,e:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0],t:100},{s:[100],t:121}],ix:2},o:{a:0,k:0,ix:3},s:{a:0,k:0,ix:1},m:1}],ind:2},{ty:4,nm:"circle",sr:1,st:0,op:600,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[46.764,46.765,0],ix:1},s:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[0,0,100],t:18.631},{s:[100,100,100],t:48}],ix:6},sk:{a:0,k:0},p:{a:0,k:[307.103,286.482,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 3",ix:1,cix:2,np:3,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!0,i:[[25.648,0],[0,-25.648],[-25.648,0],[0,25.648]],o:[[-25.648,0],[0,25.648],[25.648,0],[0,-25.648]],v:[[0,-46.467],[-46.514,.047],[0,46.562],[46.514,.047]]},ix:2}},{ty:"mm",bm:0,hd:!1,mn:"ADBE Vector Filter - Merge",nm:"Merge Paths 1",mm:4},{ty:"fl",bm:0,hd:!1,mn:"ADBE Vector Graphic - Fill",nm:"Fill 1",c:{a:0,k:[.1765,.4,.9765],ix:4},r:1,o:{a:0,k:100,ix:5}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[46.764,46.717],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]}],ind:3},{ty:4,nm:"envelop",sr:1,st:0,op:600,ip:0,hd:!1,ddd:0,bm:0,hasMask:!1,ao:0,ks:{a:{a:0,k:[97.695,79.318,0],ix:1},s:{a:0,k:[100,100,100],ix:6},sk:{a:0,k:0},p:{a:0,k:[243.195,246.318,0],ix:2},r:{a:0,k:0,ix:10},sa:{a:0,k:0},o:{a:0,k:100,ix:11}},ef:[],shapes:[{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 1",ix:1,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-82.695,-27.565],[-.001,27.565],[82.695,-27.565]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:10,o:{a:0,k:100,ix:4},w:{a:0,k:6,ix:5},c:{a:0,k:[.1765,.4,.9765],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[97.695,60.942],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"gr",bm:0,hd:!1,mn:"ADBE Vector Group",nm:"Group 2",ix:2,cix:2,np:2,it:[{ty:"sh",bm:0,hd:!1,mn:"ADBE Vector Shape - Group",nm:"Path 1",ix:1,d:1,ks:{a:0,k:{c:!1,i:[[0,0],[0,0],[0,10.15],[0,0],[-10.149,0],[0,0],[0,-10.149],[0,0]],o:[[0,0],[-10.149,0],[0,0],[0,-10.149],[0,0],[10.149,0],[0,0],[0,0]],v:[[12.741,64.318],[-64.318,64.318],[-82.695,45.941],[-82.695,-45.941],[-64.318,-64.318],[64.318,-64.318],[82.695,-45.941],[82.695,-13.376]]},ix:2}},{ty:"st",bm:0,hd:!1,mn:"ADBE Vector Graphic - Stroke",nm:"Stroke 1",lc:2,lj:1,ml:10,o:{a:0,k:100,ix:4},w:{a:0,k:6,ix:5},c:{a:0,k:[.1765,.4,.9765],ix:3}},{ty:"tr",a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},sk:{a:0,k:0,ix:4},p:{a:0,k:[97.695,79.318],ix:2},r:{a:0,k:0,ix:6},sa:{a:0,k:0,ix:5},o:{a:0,k:100,ix:7}}]},{ty:"tm",bm:0,hd:!1,mn:"ADBE Vector Filter - Trim",nm:"Trim Paths 1",ix:3,e:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[50],t:0},{s:[100],t:24.1171875}],ix:2},o:{a:0,k:0,ix:3},s:{a:1,k:[{o:{x:.167,y:.167},i:{x:.833,y:.833},s:[50],t:0},{s:[0],t:24.1171875}],ix:1},m:1}],ind:4}],E="4.8.0",F=60,P=181,G=0,T=[],j={nm:D,ddd:C,h:U,w:V,meta:A,layers:M,v:E,fr:F,op:P,ip:G,assets:T},w=({pembayaran:s})=>{const[r,i]=x.useState(!1),[l,a]=x.useState(null),[u,o]=x.useState(!1),t=async(d,h)=>{if(d.target.files&&d.target.files[0]){const c=d.target.files[0];a(URL.createObjectURL(c)),i(!0);const N=new FormData;N.append("bukti_pembayaran",c),N.append("pembayaran_id",String(h)),v.post("/siswa/pembayaran/upload",N,{onSuccess:()=>{i(!1),o(!0),setTimeout(()=>o(!1),2e3)},onError:()=>{i(!1),a(null)},preserveScroll:!0})}},n=()=>{var d;a(null),(d=document.getElementById(`reupload-bukti-${s.id}`))==null||d.click()};return e.jsxs("div",{className:"flex flex-col items-center gap-2 relative",children:[u&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-xl transform transition-all",children:[e.jsx("div",{className:"w-48 h-48",children:e.jsx(f,{animationData:j,loop:!1,autoplay:!0,className:"w-full h-full"})}),e.jsx("p",{className:"text-center text-lg font-medium text-primary mt-4",children:"Upload Berhasil!"})]})}),s.status==="ditolak"&&s.keterangan&&e.jsx("div",{className:"w-full mb-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-600 dark:text-red-400 mt-0.5 mr-2 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:"Bukti pembayaran ditolak"}),e.jsx("p",{className:"text-xs text-red-700 dark:text-red-400 mt-1",children:s.keterangan}),e.jsx("p",{className:"text-xs font-medium text-red-700 dark:text-red-400 mt-2",children:"Silakan upload ulang bukti pembayaran"})]})]})}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:m("w-full h-40 sm:h-32 sm:w-32 rounded-lg border-2 border-dashed mx-auto","flex items-center justify-center overflow-hidden","transition-all duration-200 hover:border-primary",s.status==="ditolak"?"border-red-300 dark:border-red-800":""),children:l?e.jsx("img",{src:l,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}):s.bukti_pembayaran?e.jsx("img",{src:s.bukti_pembayaran,alt:"Bukti Pembayaran",className:"w-full h-full object-cover rounded-lg group-hover:opacity-80 transition-opacity"}):e.jsxs("div",{className:"text-center p-4",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"mx-auto h-8 w-8 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Belum ada bukti"})]})}),s.bukti_pembayaran&&!l&&e.jsxs(p,{children:[e.jsxs("div",{className:"flex mt-2 justify-center gap-2",children:[e.jsx(k,{asChild:!0,children:e.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 underline",children:"Lihat Bukti"})}),s.status==="ditolak"&&e.jsx("button",{onClick:n,className:"text-xs text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 underline",children:"Upload Ulang"})]}),e.jsx(g,{className:"w-[90vw] max-w-3xl p-0",children:e.jsx("img",{src:s.bukti_pembayaran,alt:"Bukti Pembayaran",className:"w-full h-auto rounded-lg"})})]}),(!s.bukti_pembayaran||l||s.status==="ditolak")&&e.jsxs("label",{className:m("mt-4 flex justify-center","cursor-pointer bg-primary text-white px-4 py-2 rounded-lg w-full sm:w-32 mx-auto","hover:bg-primary/90 transition-colors text-center",r&&"opacity-50 cursor-not-allowed",s.status==="ditolak"&&!l&&"bg-red-600 hover:bg-red-700"),children:[r?"Mengupload...":l?"Konfirmasi Upload":s.status==="ditolak"?"Upload Ulang":"Upload Bukti",e.jsx("input",{type:"file",className:"hidden",onChange:d=>t(d,s.id),accept:"image/*",disabled:r})]}),e.jsx("input",{id:`reupload-bukti-${s.id}`,type:"file",className:"hidden",onChange:d=>t(d,s.id),accept:"image/*"})]})]})},K=({pembayaran:s})=>{const[r,i]=x.useState(!1),[l,a]=x.useState(null),[u,o]=x.useState(!1),t=async(n,d)=>{if(n.target.files&&n.target.files[0]){const h=n.target.files[0];a(h.name),i(!0);const c=new FormData;c.append("skl",h),c.append("pembayaran_id",String(d)),v.post("/siswa/skl/upload",c,{onSuccess:()=>{i(!1),o(!0),setTimeout(()=>o(!1),2e3)},onError:()=>{i(!1),a(null)},preserveScroll:!0})}};return e.jsxs("div",{className:"flex flex-col items-center gap-2 relative",children:[u&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-xl transform transition-all",children:[e.jsx("div",{className:"w-48 h-48",children:e.jsx(f,{animationData:j,loop:!1,autoplay:!0,className:"w-full h-full"})}),e.jsx("p",{className:"text-center text-lg font-medium text-primary mt-4",children:"Upload SKL Berhasil!"})]})}),s.status==="ditolak"&&s.keterangan&&e.jsx("div",{className:"w-full mb-2 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-red-600 dark:text-red-400 mt-0.5 mr-1.5 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-red-800 dark:text-red-300",children:"Dokumen ditolak"}),e.jsx("p",{className:"text-xs text-red-700 dark:text-red-400 mt-0.5",children:s.keterangan})]})]})}),s.skl?e.jsxs(p,{children:[e.jsx(k,{asChild:!0,children:e.jsxs("div",{className:"relative group cursor-pointer w-full",children:[e.jsx("div",{className:m("w-full h-12 rounded-lg border-2 border-dashed mx-auto","flex items-center justify-center","transition-all duration-200 hover:border-primary",s.status==="ditolak"?"border-red-300 dark:border-red-800":""),children:e.jsxs("div",{className:"flex items-center space-x-2 px-3",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"text-sm font-medium truncate",children:"SKL Terupload"})]})}),e.jsx("p",{className:"mt-2 text-xs text-center text-muted-foreground w-full",children:"Klik untuk membuka dokumen"})]})}),e.jsx(g,{className:"w-[90vw] max-w-3xl p-0",children:e.jsx("iframe",{src:s.skl,className:"w-full h-[80vh]",title:"SKL Document"})})]}):e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:m("w-full h-12 rounded-lg border-2 border-dashed mx-auto","flex items-center justify-center","transition-all duration-200 hover:border-primary",s.status==="ditolak"?"border-red-300 dark:border-red-800":""),children:l?e.jsxs("div",{className:"flex items-center space-x-2 px-3",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"text-sm truncate",children:l})]}):e.jsx("div",{className:"text-center p-2",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"SKL belum diupload"})})}),e.jsxs("label",{className:m("mt-2 flex justify-center","cursor-pointer bg-blue-600 text-white px-3 py-1.5 rounded-lg w-full text-xs","hover:bg-blue-700 transition-colors text-center",r&&"opacity-50 cursor-not-allowed",s.status==="ditolak"&&"bg-red-600 hover:bg-red-700"),children:[r?"Mengupload...":s.status==="ditolak"?"Upload Ulang SKL":"Upload SKL (PDF)",e.jsx("input",{type:"file",className:"hidden",onChange:n=>t(n,s.id),accept:"application/pdf",disabled:r})]})]})]})},_=({pembayaran:s})=>{const[r,i]=x.useState(!1),[l,a]=x.useState(null),[u,o]=x.useState(!1),t=async(n,d)=>{if(n.target.files&&n.target.files[0]){const h=n.target.files[0];a(h.name),i(!0);const c=new FormData;c.append("rapor",h),c.append("pembayaran_id",String(d)),v.post("/siswa/rapor/upload",c,{onSuccess:()=>{i(!1),o(!0),setTimeout(()=>o(!1),2e3)},onError:()=>{i(!1),a(null)},preserveScroll:!0})}};return e.jsxs("div",{className:"flex flex-col items-center gap-2 relative",children:[u&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-xl transform transition-all",children:[e.jsx("div",{className:"w-48 h-48",children:e.jsx(f,{animationData:j,loop:!1,autoplay:!0,className:"w-full h-full"})}),e.jsx("p",{className:"text-center text-lg font-medium text-primary mt-4",children:"Upload Rapor Berhasil!"})]})}),s.status==="ditolak"&&s.keterangan&&e.jsx("div",{className:"w-full mb-2 p-2 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-red-600 dark:text-red-400 mt-0.5 mr-1.5 flex-shrink-0",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-red-800 dark:text-red-300",children:"Dokumen ditolak"}),e.jsx("p",{className:"text-xs text-red-700 dark:text-red-400 mt-0.5",children:s.keterangan})]})]})}),s.rapor?e.jsxs(p,{children:[e.jsx(k,{asChild:!0,children:e.jsxs("div",{className:"relative group cursor-pointer w-full",children:[e.jsx("div",{className:m("w-full h-12 rounded-lg border-2 border-dashed mx-auto","flex items-center justify-center","transition-all duration-200 hover:border-primary",s.status==="ditolak"?"border-red-300 dark:border-red-800":""),children:e.jsxs("div",{className:"flex items-center space-x-2 px-3",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"text-sm font-medium truncate",children:"Rapor Terupload"})]})}),e.jsx("p",{className:"mt-2 text-xs text-center text-muted-foreground w-full",children:"Klik untuk membuka dokumen"})]})}),e.jsx(g,{className:"w-[90vw] max-w-3xl p-0",children:e.jsx("iframe",{src:s.rapor,className:"w-full h-[80vh]",title:"Rapor Document"})})]}):e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:m("w-full h-12 rounded-lg border-2 border-dashed mx-auto","flex items-center justify-center","transition-all duration-200 hover:border-primary",s.status==="ditolak"?"border-red-300 dark:border-red-800":""),children:l?e.jsxs("div",{className:"flex items-center space-x-2 px-3",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"text-sm truncate",children:l})]}):e.jsx("div",{className:"text-center p-2",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Rapor belum diupload"})})}),e.jsxs("label",{className:m("mt-2 flex justify-center","cursor-pointer bg-green-600 text-white px-3 py-1.5 rounded-lg w-full text-xs","hover:bg-green-700 transition-colors text-center",r&&"opacity-50 cursor-not-allowed",s.status==="ditolak"&&"bg-red-600 hover:bg-red-700"),children:[r?"Mengupload...":s.status==="ditolak"?"Upload Ulang Rapor":"Upload Rapor (PDF)",e.jsx("input",{type:"file",className:"hidden",onChange:n=>t(n,s.id),accept:"application/pdf",disabled:r})]})]})]})},I=({pembayaran:s})=>s.status!=="dibayar"?null:e.jsx("div",{className:"w-full",children:s.suratlulus?e.jsxs(p,{children:[e.jsx(k,{asChild:!0,children:e.jsxs("div",{className:"relative group cursor-pointer w-full",children:[e.jsx("div",{className:`w-full h-12 rounded-lg border-2 border-dashed mx-auto
                flex items-center justify-center
                transition-all duration-200 hover:border-primary bg-green-50 dark:bg-green-900/20`,children:e.jsxs("div",{className:"flex items-center space-x-2 px-3",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"text-sm font-medium truncate text-green-700 dark:text-green-300",children:"Surat Lulus Tersedia!"})]})}),e.jsx("p",{className:"mt-2 text-xs text-center text-green-600 dark:text-green-400 w-full",children:"Klik untuk membuka dan mengunduh surat lulus Anda"})]})}),e.jsxs(g,{className:"w-[90vw] max-w-3xl p-0",children:[e.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 flex justify-between items-center",children:[e.jsx("h3",{className:"font-medium text-primary",children:"Surat Lulus Anda"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("a",{href:s.suratlulus,target:"_blank",className:"inline-flex items-center justify-center px-3 py-1.5 text-xs bg-blue-100 text-blue-700 hover:bg-blue-200 rounded-md transition-colors",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),e.jsx("polyline",{points:"15 3 21 3 21 9"}),e.jsx("line",{x1:"10",y1:"14",x2:"21",y2:"3"})]}),"Buka di Tab Baru"]}),e.jsxs("a",{href:s.suratlulus,download:!0,className:"inline-flex items-center justify-center px-3 py-1.5 text-xs bg-green-100 text-green-700 hover:bg-green-200 rounded-md transition-colors",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Unduh PDF"]})]})]}),e.jsx("iframe",{src:s.suratlulus,className:"w-full h-[80vh]",title:"Surat Lulus"})]})]}):e.jsxs("div",{children:[e.jsx("div",{className:`w-full h-12 rounded-lg border-2 border-dashed mx-auto
            flex items-center justify-center bg-yellow-50 dark:bg-yellow-900/20
            border-yellow-300 dark:border-yellow-800`,children:e.jsxs("div",{className:"flex items-center space-x-2 px-3 text-yellow-700 dark:text-yellow-400",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-sm font-medium",children:"Surat Lulus sedang diproses"})]})}),e.jsx("p",{className:"mt-2 text-xs text-center text-yellow-600 dark:text-yellow-400 w-full",children:"Surat lulus akan tersedia segera setelah diproses oleh admin"})]})}),R=({isOpen:s,onClose:r,hasLulusCertificate:i,certificateUrl:l})=>s?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-xl transform transition-all max-w-md w-full",children:[e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("div",{className:"w-32 h-32 mx-auto mb-4",children:e.jsx(f,{animationData:j,loop:!1,autoplay:!0,className:"w-full h-full"})}),e.jsx("h3",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:"Pembayaran Diterima!"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Selamat! Pembayaran Anda telah diverifikasi dan diterima. Anda resmi menjadi mahasiswa baru."})]}),e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-600 dark:text-green-400 mt-0.5 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-green-800 dark:text-green-300",children:"Informasi Surat Lulus"}),e.jsx("p",{className:"text-xs text-green-700 dark:text-green-400 mt-1",children:i?"Surat Lulus Anda sudah tersedia dan dapat diunduh dari dashboard.":"Surat Lulus Anda sedang diproses dan akan tersedia segera."})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:r,className:"w-full py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Tutup"}),i&&l&&e.jsx("a",{href:l,download:!0,className:"w-full py-2 px-4 bg-green-600 hover:bg-green-700 text-white rounded-lg text-center transition-colors",children:e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Unduh Surat Lulus"]})})]})]})}):null;function re({siswa:s,pembayarans:r}){const[i,l]=x.useState(!1),a=r.find(t=>t.status==="dibayar"),u=(a==null?void 0:a.suratlulus)!==null&&(a==null?void 0:a.suratlulus)!==void 0;x.useEffect(()=>{a&&l(!0)},[a]);const o=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t);return e.jsxs(e.Fragment,{children:[e.jsx(b,{title:"Pembayaran"}),e.jsx(R,{isOpen:i,onClose:()=>l(!1),hasLulusCertificate:u,certificateUrl:(a==null?void 0:a.suratlulus)||null}),e.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:e.jsxs("div",{className:"flex flex-col lg:flex-row",children:[e.jsx("div",{className:"w-full lg:w-64",children:e.jsx(L,{activePage:"pembayaran"})}),e.jsx("div",{className:"flex-1 p-4 lg:p-8",children:e.jsx(y,{className:"max-w-[1200px] mx-auto",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent",children:"Informasi Pembayaran"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Detail pembayaran pendaftaran mahasiswa baru"})]}),s?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-blue-500/5 p-6 rounded-xl border border-primary/10",children:[e.jsx("h3",{className:"font-semibold text-primary mb-4",children:"Data Mahasiswa"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Nama"}),e.jsx("p",{className:"font-medium text-lg",children:s.nama})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"NIK"}),e.jsx("p",{className:"font-medium font-mono",children:s.nik})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Program Studi"}),e.jsx("p",{className:"font-medium",children:s.program_studi==="MI"?"D3-Manajemen Informatika":s.program_studi==="SI"?"S1-Sistem Informasi":s.program_studi==="SK"?"S1-Sistem Komputer":""})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Asal Sekolah"}),e.jsxs("p",{className:"font-medium",children:[s.asal_sekolah," (",s.tahun_lulus,")"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-500/5 to-green-500/5 p-6 rounded-xl border border-blue-500/10",children:[e.jsx("h3",{className:"font-semibold text-blue-600 mb-4",children:"Dokumen Pendaftaran"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Surat Keterangan Lulus (SKL) Format PDF"}),r.length>0&&e.jsx(K,{pembayaran:r[0]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Rapor Terakhir Format PDF"}),r.length>0&&e.jsx(_,{pembayaran:r[0]})]}),a&&e.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-400",children:"Surat Lulus (Bukti Penerimaan)"}),u&&e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 rounded-full",children:"Tersedia"})]}),r.length>0&&e.jsx(I,{pembayaran:r[0]})]})]})]}),e.jsx("div",{className:"lg:hidden space-y-4",children:r.map(t=>e.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 
                                     transform transition-all duration-300 hover:scale-[1.02]`,children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Kode Pembayaran"}),e.jsx("p",{className:"font-medium font-mono",children:t.kode_pembayaran})]}),e.jsx("span",{className:m("px-4 py-1.5 rounded-full text-xs font-medium",{"bg-yellow-100 text-yellow-800":t.status==="menunggu","bg-green-100 text-green-800":t.status==="dibayar","bg-red-100 text-red-800":t.status==="ditolak"}),children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Jumlah"}),e.jsx("p",{className:"font-bold text-xl text-primary",children:o(t.jumlah)})]}),e.jsx("div",{className:"pt-2",children:e.jsx(w,{pembayaran:t})})]})},t.id))}),e.jsx("div",{className:"hidden lg:block",children:e.jsx("div",{className:"rounded-xl overflow-hidden border border-primary/10",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-primary/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-primary",children:"Kode Pembayaran"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-primary",children:"Jumlah"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-primary",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-primary",children:"Bukti"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700 bg-white dark:bg-gray-800",children:r.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"px-6 py-4 text-sm",children:t.kode_pembayaran}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"font-semibold text-primary",children:o(t.jumlah)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:m("inline-flex px-3 py-1 rounded-full text-xs font-medium",{"bg-yellow-100 text-yellow-800":t.status==="menunggu","bg-green-100 text-green-800":t.status==="dibayar","bg-red-100 text-red-800":t.status==="ditolak"}),children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(w,{pembayaran:t})})]},t.id))})]})})}),e.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-blue-500/5 rounded-xl p-6 border border-primary/10",children:[e.jsx("h3",{className:"text-xl font-semibold text-primary mb-6",children:"Petunjuk Pembayaran"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[e.jsx("img",{src:B,alt:"Rekening Bank",className:`w-full max-w-[300px] h-auto rounded-xl shadow-lg mx-auto 
                                     transform transition-all duration-300 hover:scale-105`}),e.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-4",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-primary font-semibold",children:"Transfer ke rekening Bank Nagari:"}),e.jsx("span",{className:"font-mono",children:"21000-10500-3997"})]}),e.jsx("li",{className:"text-muted-foreground",children:"A/N Yayasan Bina Manajemen Informatika"}),e.jsx("li",{className:"text-muted-foreground",children:"Upload bukti pembayaran"}),e.jsx("li",{className:"text-muted-foreground",children:"Tunggu konfirmasi dari admin"})]})})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-bounce mb-4",children:e.jsx("svg",{className:"w-16 h-16 text-primary mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Silakan lengkapi data pendaftaran terlebih dahulu"})]})]})})})})]})})]})}export{re as default};
