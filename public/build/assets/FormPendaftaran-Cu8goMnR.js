import{r as j,j as e,S}from"./app-DGAr4PFq.js";import{L as r}from"./label-CTienSPl.js";import{I as t}from"./input-CVZrchEx.js";import{B as _}from"./button-Bd47zRZY.js";import{S as P}from"./sweetalert2.esm.all-B0Dix5B2.js";import{S as m,a as h,b as x,c as u,d as i}from"./select-dZ2katOz.js";import{a as N}from"./utils-DXBu7wvP.js";import{L as F}from"./jayanusa-DK0lkaAg.js";import{P as K,C}from"./indonesia-D4BytANq.js";import"./index-Rffq3QrG.js";import"./index-CXP7GwvV.js";import"./index-BPJxSoys.js";import"./index-CilWc_OY.js";import"./index-8UmhVcWN.js";function U({initialData:v}){const[s,d]=j.useState(v||{nik:"",nama:"",alamat:"",tempat_lahir:"",tanggal_lahir:"",jenis_kelamin:"L",kota:"",kecamatan:"",kelurahan:"",provinsi:"",agama:"",no_hp:"",asal_sekolah:"",tahun_lulus:"",program_studi:"",foto:null,fotoPreview:null,beasiswa:"",kelas:""}),[c]=j.useState({}),[g]=j.useState(!1),[k,b]=j.useState([]),n=a=>{const{name:l,value:o}=a.target;d(p=>({...p,[l]:o}))},f=a=>{if(a.target.files&&a.target.files[0]){const l=a.target.files[0];d(o=>({...o,foto:l,fotoPreview:URL.createObjectURL(l)}))}},y=a=>{d(l=>({...l,provinsi:a,kota:""})),b(C[a]||[])},w=async a=>{a.preventDefault();const l=new FormData;Object.entries(s).forEach(([o,p])=>{o!=="foto"&&o!=="fotoPreview"&&p!==null&&l.append(o,p)}),s.foto instanceof File&&l.append("foto",s.foto),S.post("/pendaftaran",l,{onError:o=>{const p=Object.values(o)[0]||"Silakan lengkapi semua field yang diperlukan";P.fire({icon:"error",title:"Validasi Error",text:p,confirmButtonColor:"#d33"})}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:e.jsx("div",{className:"p-4 sm:p-6",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("img",{src:F,alt:"Logo STMIK Jayanusa",className:"h-12 sm:h-16 w-auto"}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-center text-[#02188B] dark:text-[#FF4433]",children:"STMIK-AMIK JAYANUSA"}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-center",children:"Formulir Pendaftaran Mahasiswa Baru"})]})})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm",children:e.jsx("div",{className:"p-4 sm:p-6",children:e.jsxs("form",{onSubmit:w,className:"space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"pb-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Data Pribadi"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Silakan lengkapi data pribadi Anda dengan benar"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6",children:[e.jsxs("div",{className:"space-y-6 flex-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"nik",className:"font-medium",children:["NIK ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(t,{type:"text",id:"nik",name:"nik",value:s.nik,onChange:n,maxLength:16,placeholder:"Masukkan NIK (16 digit)",className:N("transition-colors duration-200",c.nik?"border-destructive":"focus:border-primary")}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("p",{className:"text-muted-foreground",children:"Format: 16 digit angka"}),e.jsxs("p",{className:"text-muted-foreground",children:[s.nik.length,"/16"]})]}),c.nik&&e.jsx("p",{className:"text-sm text-destructive",children:c.nik})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"nama",className:"font-medium",children:["Nama Lengkap ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(t,{type:"text",id:"nama",name:"nama",value:s.nama,onChange:n,placeholder:"Masukkan nama lengkap",className:N("transition-colors duration-200",c.nama?"border-destructive":"focus:border-primary")}),c.nama&&e.jsx("p",{className:"text-sm text-destructive",children:c.nama})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"jenis_kelamin",className:"font-medium",children:["Jenis Kelamin ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(m,{name:"jenis_kelamin",value:s.jenis_kelamin,onValueChange:a=>d(l=>({...l,jenis_kelamin:a})),children:[e.jsx(h,{className:"transition-colors duration-200 focus:border-primary",children:e.jsx(x,{placeholder:"Pilih Jenis Kelamin"})}),e.jsxs(u,{children:[e.jsx(i,{value:"L",children:"Laki-laki"}),e.jsx(i,{value:"P",children:"Perempuan"})]})]})]})]}),e.jsxs("div",{className:"w-full sm:w-1/3 space-y-2",children:[e.jsx(r,{htmlFor:"foto",className:"italic font-medium",children:"Foto 3x4"}),e.jsx("div",{className:"relative flex flex-col items-center p-4 border-2 border-dashed rounded-lg hover:border-primary transition-colors duration-200",children:s.fotoPreview?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:s.fotoPreview,alt:"Preview",className:"w-full h-[200px] object-cover rounded-lg shadow-sm"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 hover:opacity-100 transition-opacity duration-200 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-white text-sm",children:"Klik untuk mengganti foto"})}),e.jsx(t,{type:"file",id:"foto",name:"foto",onChange:f,accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-[200px] bg-muted/30 rounded-lg",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mb-2 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Klik untuk upload foto"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: JPG, PNG (Max. 2MB)"})]}),e.jsx(t,{type:"file",id:"foto",name:"foto",onChange:f,accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"})]})}),c.foto&&e.jsx("p",{className:"text-sm text-destructive",children:c.foto})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"tempat_lahir",className:"font-medium",children:["Tempat Lahir ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(t,{type:"text",id:"tempat_lahir",name:"tempat_lahir",value:s.tempat_lahir,onChange:n,placeholder:"Masukkan tempat lahir",className:"transition-colors duration-200 focus:border-primary"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"tanggal_lahir",className:"font-medium",children:["Tanggal Lahir ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(t,{type:"date",id:"tanggal_lahir",name:"tanggal_lahir",value:s.tanggal_lahir,onChange:n,className:"transition-colors duration-200 focus:border-primary"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(r,{htmlFor:"alamat",className:"font-medium",children:["Alamat Lengkap ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(t,{type:"text",id:"alamat",name:"alamat",value:s.alamat,onChange:n,placeholder:"Masukkan alamat lengkap",className:"transition-colors duration-200 focus:border-primary"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"provinsi",className:"font-medium",children:"Provinsi"}),e.jsxs(m,{name:"provinsi",value:s.provinsi,onValueChange:y,children:[e.jsx(h,{className:"transition-colors duration-200 focus:border-primary",children:e.jsx(x,{placeholder:"Pilih Provinsi"})}),e.jsx(u,{children:K.map(a=>e.jsx(i,{value:a,children:a},a))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"kota",className:"font-medium",children:"Kota/Kabupaten"}),e.jsxs(m,{name:"kota",value:s.kota,onValueChange:a=>d(l=>({...l,kota:a})),disabled:!s.provinsi,children:[e.jsx(h,{className:"transition-colors duration-200 focus:border-primary",children:e.jsx(x,{placeholder:"Pilih Kota/Kabupaten"})}),e.jsx(u,{children:k.map(a=>e.jsx(i,{value:a,children:a},a))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"kecamatan",className:"font-medium",children:"Kecamatan"}),e.jsx(t,{type:"text",id:"kecamatan",name:"kecamatan",value:s.kecamatan,onChange:n})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"kelurahan",className:"font-medium",children:"Kelurahan"}),e.jsx(t,{type:"text",id:"kelurahan",name:"kelurahan",value:s.kelurahan,onChange:n})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"agama",className:"font-medium",children:"Agama"}),e.jsxs(m,{name:"agama",value:s.agama,onValueChange:a=>d(l=>({...l,agama:a})),children:[e.jsx(h,{className:"transition-colors duration-200 focus:border-primary",children:e.jsx(x,{placeholder:"Pilih Agama"})}),e.jsxs(u,{children:[e.jsx(i,{value:"Islam",children:"Islam"}),e.jsx(i,{value:"Kristen",children:"Kristen"}),e.jsx(i,{value:"Katolik",children:"Katolik"}),e.jsx(i,{value:"Hindu",children:"Hindu"}),e.jsx(i,{value:"Buddha",children:"Buddha"}),e.jsx(i,{value:"Konghucu",children:"Konghucu"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"no_hp",className:"font-medium",children:"Nomor HP"}),e.jsx(t,{type:"tel",id:"no_hp",name:"no_hp",value:s.no_hp,onChange:n})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"pb-4 border-b",children:[e.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Data Pendidikan"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Informasi mengenai riwayat pendidikan Anda"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"asal_sekolah",className:"font-medium",children:"Asal Sekolah"}),e.jsx(t,{type:"text",id:"asal_sekolah",name:"asal_sekolah",value:s.asal_sekolah,onChange:n})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"tahun_lulus",className:"font-medium",children:"Tahun Lulus"}),e.jsx(t,{type:"text",id:"tahun_lulus",name:"tahun_lulus",value:s.tahun_lulus,onChange:n})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"program_studi",className:"font-medium",children:"Program Studi"}),e.jsxs(m,{name:"program_studi",value:s.program_studi,onValueChange:a=>d(l=>({...l,program_studi:a})),children:[e.jsx(h,{className:"transition-colors duration-200 focus:border-primary",children:e.jsx(x,{placeholder:"Pilih Program Studi"})}),e.jsxs(u,{children:[e.jsx(i,{value:"MI",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"D3-Manajemen Informatika"})})}),e.jsx(i,{value:"SI",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"S1-Sistem Informasi"})})}),e.jsx(i,{value:"SK",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"S1-Sistem Komputer"})})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"beasiswa",className:"font-medium",children:"Beasiswa"}),e.jsxs(m,{name:"beasiswa",value:s.beasiswa,onValueChange:a=>d(l=>({...l,beasiswa:a,kelas:a==="iya"?"reguler":l.kelas})),children:[e.jsx(h,{className:"transition-colors duration-200 focus:border-primary",children:e.jsx(x,{placeholder:"Penerima Beasiswa KIP-Kuliah (Isi Tidak Jika Tidak Penerima)"})}),e.jsxs(u,{children:[e.jsx(i,{value:"iya",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Ya (KIP-Kuliah)"})})}),e.jsx(i,{value:"tidak",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Tidak"})})})]})]})]}),s.beasiswa==="tidak"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"kelas",className:"font-medium",children:"Kelas"}),e.jsxs(m,{name:"kelas",value:s.kelas,onValueChange:a=>d(l=>({...l,kelas:a})),children:[e.jsx(h,{className:"transition-colors duration-200 focus:border-primary",children:e.jsx(x,{placeholder:"Pilih Kelas"})}),e.jsxs(u,{children:[e.jsx(i,{value:"reguler",children:"Non Kerja"}),e.jsx(i,{value:"kerja",children:"Kerja"})]})]})]})]}),e.jsx("div",{className:"flex justify-end pt-6",children:e.jsx(_,{type:"submit",disabled:g,className:"w-full sm:w-auto min-w-[200px] transition-all duration-200 hover:scale-[1.02]",children:g?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Menyimpan..."})]}):"Simpan Data"})})]})})})]})}export{U as default};
