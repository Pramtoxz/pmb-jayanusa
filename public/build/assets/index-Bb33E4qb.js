import{r as u,j as e,L as k,S as b}from"./app-B5vBWpQX.js";import{A as v,D as N,a as C,b as M,c as S,d as F}from"./app-layout-Dp-DMOar.js";import{B as R}from"./button-DzljThst.js";import{T as L,a as P,b as o,c as V,d as D,e as h}from"./table-K0Ay_hM5.js";import{I as B}from"./input-DTTei3Gu.js";import{u as I,f as p,P as T,a as K,b as i,c as W,d as A,e as E,E as H,g as $,h as z,i as J,j as U}from"./pagination-DUReQngY.js";import{S as _,a as q,b as G,c as O,d as l}from"./select-CcW2dbPb.js";import{T as Q}from"./sonner-Cylg8mmS.js";import{A as d}from"./arrow-up-down-DoHvR1vc.js";import{E as X}from"./eye-BSRHud2P.js";import"./utils-DxLRVXYz.js";import"./index-QRQAoZl_.js";import"./index-D5u2bwdo.js";import"./index-ahYbua_l.js";import"./index-BHYJOuNa.js";import"./avatar-DjJEllHW.js";import"./log-out-B4F5s-8C.js";import"./jayanusa-DK0lkaAg.js";import"./chevron-left-rAFcR7kw.js";const Y=[{title:"Pembayaran",href:"/pembayaran"}],Z=n=>{switch(n){case"dibayar":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"menunggu":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"ditolak":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};function je({pembayaran:n}){var x,g,m;const[w,y]=u.useState([]),[j,f]=u.useState([]),c=[{accessorKey:"kode",header:({column:r})=>e.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:text-primary transition-colors",onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),children:[e.jsx("span",{children:"Kode"}),e.jsx(d,{className:"h-4 w-4"})]})},{accessorKey:"nama",header:({column:r})=>e.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:text-primary transition-colors",onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),children:[e.jsx("span",{children:"Nama"}),e.jsx(d,{className:"h-4 w-4"})]})},{accessorKey:"nik",header:"NIK"},{accessorKey:"jumlah",header:"Jumlah",cell:({row:r})=>{const t=parseFloat(r.getValue("jumlah")),a=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"}).format(t);return e.jsx("span",{className:"font-medium text-green-700 dark:text-green-500",children:a})}},{accessorKey:"status",header:"Status",cell:({row:r})=>{const t=r.getValue("status");return e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full inline-flex items-center ${Z(t)}`,children:[t==="dibayar"&&e.jsx("svg",{className:"w-3 h-3 mr-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M20 6L9 17l-5-5"})}),t==="menunggu"&&e.jsxs("svg",{className:"w-3 h-3 mr-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("polyline",{points:"12 6 12 12 16 14"})]}),t==="ditolak"&&e.jsxs("svg",{className:"w-3 h-3 mr-1",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),e.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]}),t]})}},{accessorKey:"tanggal",header:({column:r})=>e.jsxs("div",{className:"flex items-center space-x-1 cursor-pointer hover:text-primary transition-colors",onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),children:[e.jsx("span",{children:"Tanggal"}),e.jsx(d,{className:"h-4 w-4"})]})},{id:"actions",cell:({row:r})=>{const t=r.original;return e.jsxs(N,{children:[e.jsx(C,{asChild:!0,children:e.jsxs(R,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("span",{className:"sr-only",children:"Buka menu"}),e.jsx(H,{className:"h-4 w-4"})]})}),e.jsxs(M,{align:"end",className:"shadow-md border-gray-200 dark:border-gray-700",children:[e.jsx(S,{className:"text-xs text-gray-500 dark:text-gray-400",children:"Aksi"}),e.jsxs(F,{onSelect:a=>{a.preventDefault(),b.get(`/pembayaran/${t.id}`)},className:"flex items-center text-sm cursor-pointer hover:bg-blue-50 dark:hover:bg-blue-900/20",children:[e.jsx(X,{className:"mr-2 h-4 w-4 text-blue-600 dark:text-blue-400"}),"Lihat Detail"]})]})]})}}],s=I({data:n,columns:c,getCoreRowModel:U(),getPaginationRowModel:J(),onSortingChange:y,onColumnFiltersChange:f,getFilteredRowModel:z(),getSortedRowModel:$(),initialState:{pagination:{pageSize:10}},state:{sorting:w,columnFilters:j}});return e.jsxs(v,{breadcrumbs:Y,children:[e.jsx(k,{title:"Konfirmasi Pembayaran"}),e.jsx(Q,{}),e.jsxs("div",{className:"flex h-full flex-1 flex-col space-y-8 p-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Konfirmasi Pembayaran"}),e.jsx("p",{className:"text-muted-foreground",children:"Kelola dan konfirmasi pembayaran mahasiswa baru"})]}),e.jsx("div",{className:"flex items-center space-x-2 sm:space-x-4",children:e.jsxs("div",{className:"hidden md:flex items-center space-x-1.5 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-green-500 mr-1.5"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[s.getFilteredRowModel().rows.filter(r=>r.getValue("status")==="dibayar").length," Diterima"]})]}),e.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-yellow-500 mr-1.5"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[s.getFilteredRowModel().rows.filter(r=>r.getValue("status")==="menunggu").length," Menunggu"]})]}),e.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-red-500 mr-1.5"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[s.getFilteredRowModel().rows.filter(r=>r.getValue("status")==="ditolak").length," Ditolak"]})]})]})})]}),e.jsxs("div",{className:"hidden md:grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 p-4 rounded-lg border border-green-200 dark:border-green-800 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wider text-green-700 dark:text-green-400 font-medium mb-1",children:"Diterima"}),e.jsx("p",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:s.getFilteredRowModel().rows.filter(r=>r.getValue("status")==="dibayar").length}),e.jsxs("p",{className:"text-xs text-green-600 dark:text-green-500 mt-1",children:[(s.getFilteredRowModel().rows.filter(r=>r.getValue("status")==="dibayar").length/s.getFilteredRowModel().rows.length*100).toFixed(1),"% dari total"]})]}),e.jsx("div",{className:"bg-green-200 dark:bg-green-800/60 h-12 w-12 rounded-full flex items-center justify-center",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-700 dark:text-green-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),e.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 p-4 rounded-lg border border-yellow-200 dark:border-yellow-800 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wider text-yellow-700 dark:text-yellow-400 font-medium mb-1",children:"Menunggu"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-700 dark:text-yellow-400",children:s.getFilteredRowModel().rows.filter(r=>r.getValue("status")==="menunggu").length}),e.jsxs("p",{className:"text-xs text-yellow-600 dark:text-yellow-500 mt-1",children:[(s.getFilteredRowModel().rows.filter(r=>r.getValue("status")==="menunggu").length/s.getFilteredRowModel().rows.length*100).toFixed(1),"% dari total"]})]}),e.jsx("div",{className:"bg-yellow-200 dark:bg-yellow-800/60 h-12 w-12 rounded-full flex items-center justify-center",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-700 dark:text-yellow-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 p-4 rounded-lg border border-red-200 dark:border-red-800 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wider text-red-700 dark:text-red-400 font-medium mb-1",children:"Ditolak"}),e.jsx("p",{className:"text-2xl font-bold text-red-700 dark:text-red-400",children:s.getFilteredRowModel().rows.filter(r=>r.getValue("status")==="ditolak").length}),e.jsxs("p",{className:"text-xs text-red-600 dark:text-red-500 mt-1",children:[(s.getFilteredRowModel().rows.filter(r=>r.getValue("status")==="ditolak").length/s.getFilteredRowModel().rows.length*100).toFixed(1),"% dari total"]})]}),e.jsx("div",{className:"bg-red-200 dark:bg-red-800/60 h-12 w-12 rounded-full flex items-center justify-center",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-700 dark:text-red-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),e.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"relative w-full sm:w-auto group",children:[e.jsx(B,{placeholder:"Cari berdasarkan nama...",value:((x=s.getColumn("nama"))==null?void 0:x.getFilterValue())??"",onChange:r=>{var t;return(t=s.getColumn("nama"))==null?void 0:t.setFilterValue(r.target.value)},className:"pl-10 min-w-[280px] pr-10 border-gray-300 dark:border-gray-600 focus:border-primary focus:ring-1 focus:ring-primary transition-all duration-200 ease-in-out"}),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 group-focus-within:text-primary transition-colors duration-200",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),((g=s.getColumn("nama"))==null?void 0:g.getFilterValue())&&e.jsx("button",{onClick:()=>{var r;return(r=s.getColumn("nama"))==null?void 0:r.setFilterValue("")},className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors duration-200",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"15",y1:"9",x2:"9",y2:"15"}),e.jsx("line",{x1:"9",y1:"9",x2:"15",y2:"15"})]})})]}),e.jsxs(_,{onValueChange:r=>{var t,a;r==="all"?(t=s.getColumn("status"))==null||t.setFilterValue(""):(a=s.getColumn("status"))==null||a.setFilterValue(r)},children:[e.jsx(q,{className:"w-[180px] border-gray-300 dark:border-gray-600 focus:ring-1 focus:ring-primary transition-all duration-200 ease-in-out",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-gray-400",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"})}),e.jsx(G,{placeholder:"Filter Status"})]})}),e.jsxs(O,{className:"border-gray-300 dark:border-gray-600 shadow-md",children:[e.jsx(l,{value:"all",className:"focus:bg-gray-100 dark:focus:bg-gray-800",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-3 h-3 rounded-full mr-2 bg-gray-300 dark:bg-gray-600"}),"Semua Status"]})}),e.jsx(l,{value:"dibayar",className:"focus:bg-green-50 dark:focus:bg-green-900/20",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-3 h-3 rounded-full mr-2 bg-green-500"}),"Diterima"]})}),e.jsx(l,{value:"menunggu",className:"focus:bg-yellow-50 dark:focus:bg-yellow-900/20",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-3 h-3 rounded-full mr-2 bg-yellow-500"}),"Menunggu"]})}),e.jsx(l,{value:"ditolak",className:"focus:bg-red-50 dark:focus:bg-red-900/20",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"w-3 h-3 rounded-full mr-2 bg-red-500"}),"Ditolak"]})})]})]})]}),e.jsxs("div",{className:"flex items-center text-sm text-muted-foreground bg-gray-100 dark:bg-gray-800 px-3 py-1.5 rounded-md",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2 text-primary",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),e.jsx("span",{className:"font-medium",children:s.getFilteredRowModel().rows.length}),e.jsx("span",{className:"ml-1",children:"data ditemukan"})]})]}),e.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-800 overflow-hidden shadow-sm",children:e.jsxs(L,{children:[e.jsx(P,{className:"bg-gray-50 dark:bg-gray-800",children:s.getHeaderGroups().map(r=>e.jsx(o,{className:"hover:bg-transparent border-gray-200 dark:border-gray-700",children:r.headers.map(t=>e.jsx(V,{className:"text-gray-700 dark:text-gray-300 font-medium text-xs py-3 px-4",children:t.isPlaceholder?null:p(t.column.columnDef.header,t.getContext())},t.id))},r.id))}),e.jsx(D,{children:(m=s.getRowModel().rows)!=null&&m.length?s.getRowModel().rows.map((r,t)=>e.jsx(o,{className:`border-gray-200 dark:border-gray-700 
                                        ${t%2===0?"bg-white dark:bg-gray-950":"bg-gray-50 dark:bg-gray-900"} 
                                        hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-150 group`,children:r.getVisibleCells().map(a=>e.jsx(h,{className:"py-3 px-4",children:p(a.column.columnDef.cell,a.getContext())},a.id))},r.id)):e.jsx(o,{children:e.jsx(h,{colSpan:c.length,className:"h-32 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-300 dark:text-gray-600 mb-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",ry:"2"}),e.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"})]}),e.jsx("p",{className:"mb-1 text-base",children:"Tidak ada data ditemukan"}),e.jsx("p",{className:"text-sm opacity-70",children:"Silakan coba dengan pencarian atau filter lain"})]})})})})]})}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4 py-4",children:[e.jsx("div",{className:"flex items-center text-sm text-muted-foreground",children:e.jsxs("span",{children:["Menampilkan ",e.jsx("span",{className:"font-medium",children:Math.min(s.getState().pagination.pageSize*(s.getState().pagination.pageIndex+1),s.getFilteredRowModel().rows.length)})," dari ",e.jsx("span",{className:"font-medium",children:s.getFilteredRowModel().rows.length})," data"]})}),e.jsx(T,{children:e.jsxs(K,{children:[e.jsx(i,{children:e.jsx(W,{onClick:()=>s.previousPage(),className:s.getCanPreviousPage()?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-primary transition-colors":"pointer-events-none opacity-50","aria-disabled":!s.getCanPreviousPage()})}),Array.from({length:s.getPageCount()},(r,t)=>e.jsx(i,{children:e.jsx(A,{onClick:()=>s.setPageIndex(t),isActive:s.getState().pagination.pageIndex===t,className:s.getState().pagination.pageIndex===t?"bg-primary text-primary-foreground":"hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-primary transition-colors",children:t+1})},t)),e.jsx(i,{children:e.jsx(E,{onClick:()=>s.nextPage(),className:s.getCanNextPage()?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-primary transition-colors":"pointer-events-none opacity-50","aria-disabled":!s.getCanNextPage()})})]})})]})]})]})}export{je as default};
