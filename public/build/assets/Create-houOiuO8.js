import{r as p,j as a,L as w,S as j}from"./app-DIO7bDGg.js";import{A as K}from"./app-layout-ChBKWlPf.js";import{I as r}from"./input-B3-AFTNo.js";import{B as N}from"./button-DxYsAZDm.js";import{S as d,a as m,b as h,c as u,d as i}from"./select-DZVb3_OJ.js";import{P as F,C as P}from"./indonesia-D4BytANq.js";import{L as g}from"./label-CfDh2OOy.js";import"./utils-CHx0tykR.js";import"./index-UKg0Am2a.js";import"./index-BqW7QU6U.js";import"./index-Ck-611XK.js";import"./index-DueOdN4A.js";import"./avatar-CO2hCuRM.js";import"./log-out-BrLjXGjD.js";import"./jayanusa-DK0lkaAg.js";const I=[{title:"Calon Mahasiswa",href:"/calon-mahasiswa"},{title:"Tambah Baru",href:"/calon-mahasiswa/create"}];function z(){const[l,c]=p.useState({nik:"",nama:"",alamat:"",tempat_lahir:"",tanggal_lahir:"",jenis_kelamin:"L",kota:"",kecamatan:"",kelurahan:"",provinsi:"",agama:"",no_hp:"",asal_sekolah:"",tahun_lulus:"",program_studi:"",foto:null,fotoPreview:null,beasiswa:"",kelas:""}),[t,v]=p.useState({}),[f,b]=p.useState(!1),[k,y]=p.useState([]),o=e=>{const{name:s,value:n}=e.target;c(x=>({...x,[s]:n}))},_=e=>{if(e.target.files&&e.target.files[0]){const s=e.target.files[0];c(n=>({...n,foto:s,fotoPreview:URL.createObjectURL(s)}))}},C=e=>{c(s=>({...s,provinsi:e,kota:""})),y(P[e]||[])},S=e=>{e.preventDefault(),b(!0),v({});const s=new FormData;Object.entries(l).forEach(([n,x])=>{n!=="foto"&&n!=="fotoPreview"&&x!==null&&s.append(n,x)}),l.foto instanceof File&&s.append("foto",l.foto),j.post("/calon-mahasiswa",s,{onSuccess:()=>{j.visit("/calon-mahasiswa")},onError:n=>{v(n),b(!1)},preserveScroll:!0,preserveState:!0})};return a.jsxs(K,{breadcrumbs:I,children:[a.jsx(w,{title:"Tambah Calon Mahasiswa"}),a.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 p-4",children:a.jsx("div",{className:"rounded-xl bg-white shadow-sm",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"Tambah Calon Mahasiswa"}),a.jsxs("form",{onSubmit:S,className:"space-y-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"pb-4 border-b",children:[a.jsx("h3",{className:"text-lg font-semibold text-primary",children:"Data Pribadi"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Silakan lengkapi data pribadi dengan benar"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(g,{htmlFor:"nik",children:"NIK"}),a.jsx(r,{id:"nik",name:"nik",type:"text",maxLength:16,pattern:"\\d*",value:l.nik,onChange:e=>{const s=e.target.value.replace(/\D/g,"");c(n=>({...n,nik:s}))},placeholder:"Masukkan 16 digit NIK"}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("p",{className:"text-muted-foreground",children:"Format: 16 digit angka"}),a.jsxs("p",{className:"text-muted-foreground",children:[l.nik.length,"/16"]})]}),t.nik&&a.jsx("p",{className:"text-sm text-destructive",children:t.nik})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"nama",children:"Nama Lengkap"}),a.jsx(r,{id:"nama",name:"nama",value:l.nama,onChange:o})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{htmlFor:"jenis_kelamin",className:"font-medium",children:["Jenis Kelamin ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsxs(d,{value:l.jenis_kelamin,onValueChange:e=>c(s=>({...s,jenis_kelamin:e})),children:[a.jsx(m,{className:"transition-colors duration-200 focus:border-primary",children:a.jsx(h,{placeholder:"Pilih Jenis Kelamin"})}),a.jsxs(u,{children:[a.jsx(i,{value:"L",children:"Laki-laki"}),a.jsx(i,{value:"P",children:"Perempuan"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"tempat_lahir",children:"Tempat Lahir"}),a.jsx(r,{id:"tempat_lahir",name:"tempat_lahir",value:l.tempat_lahir,onChange:o})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"tanggal_lahir",children:"Tanggal Lahir"}),a.jsx(r,{type:"date",id:"tanggal_lahir",name:"tanggal_lahir",value:l.tanggal_lahir,onChange:o}),t.tanggal_lahir&&a.jsx("p",{className:"text-sm text-destructive",children:t.tanggal_lahir})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{htmlFor:"alamat",className:"font-medium",children:["Alamat Lengkap ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsx(r,{type:"text",id:"alamat",name:"alamat",value:l.alamat,onChange:o,placeholder:"Masukkan alamat lengkap",className:"transition-colors duration-200 focus:border-primary"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"provinsi",className:"font-medium",children:"Provinsi"}),a.jsxs(d,{value:l.provinsi,onValueChange:C,children:[a.jsx(m,{className:"transition-colors duration-200 focus:border-primary",children:a.jsx(h,{placeholder:"Pilih Provinsi"})}),a.jsx(u,{children:F.map(e=>a.jsx(i,{value:e,children:e},e))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"kota",className:"font-medium",children:"Kota/Kabupaten"}),a.jsxs(d,{value:l.kota,onValueChange:e=>c(s=>({...s,kota:e})),disabled:!l.provinsi,children:[a.jsx(m,{className:"transition-colors duration-200 focus:border-primary",children:a.jsx(h,{placeholder:"Pilih Kota/Kabupaten"})}),a.jsx(u,{children:k.map(e=>a.jsx(i,{value:e,children:e},e))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"kecamatan",className:"font-medium",children:"Kecamatan"}),a.jsx(r,{type:"text",id:"kecamatan",name:"kecamatan",value:l.kecamatan,onChange:o,className:"transition-colors duration-200 focus:border-primary"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"kelurahan",className:"font-medium",children:"Kelurahan"}),a.jsx(r,{type:"text",id:"kelurahan",name:"kelurahan",value:l.kelurahan,onChange:o,className:"transition-colors duration-200 focus:border-primary"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"agama",children:"Agama"}),a.jsxs(d,{value:l.agama,onValueChange:e=>c(s=>({...s,agama:e})),children:[a.jsx(m,{className:"transition-colors duration-200 focus:border-primary",children:a.jsx(h,{placeholder:"Pilih Agama"})}),a.jsxs(u,{children:[a.jsx(i,{value:"Islam",children:"Islam"}),a.jsx(i,{value:"Kristen",children:"Kristen"}),a.jsx(i,{value:"Katolik",children:"Katolik"}),a.jsx(i,{value:"Hindu",children:"Hindu"}),a.jsx(i,{value:"Buddha",children:"Buddha"}),a.jsx(i,{value:"Konghucu",children:"Konghucu"})]})]}),t.agama&&a.jsx("p",{className:"text-sm text-destructive",children:t.agama})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"no_hp",children:"No HP"}),a.jsx(r,{type:"tel",id:"no_hp",name:"no_hp",pattern:"\\d*",value:l.no_hp,onChange:e=>{const s=e.target.value.replace(/\D/g,"");c(n=>({...n,no_hp:s}))},placeholder:"Contoh: 08123456789"}),t.no_hp&&a.jsx("p",{className:"text-sm text-destructive",children:t.no_hp})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"asal_sekolah",children:"Asal Sekolah"}),a.jsx(r,{id:"asal_sekolah",name:"asal_sekolah",value:l.asal_sekolah,onChange:o})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"tahun_lulus",children:"Tahun Lulus"}),a.jsx(r,{type:"number",id:"tahun_lulus",name:"tahun_lulus",min:"1900",max:new Date().getFullYear(),value:l.tahun_lulus,onChange:o,placeholder:"Contoh: 2023"}),t.tahun_lulus&&a.jsx("p",{className:"text-sm text-destructive",children:t.tahun_lulus})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"program_studi",children:"Program Studi"}),a.jsxs(d,{value:l.program_studi,onValueChange:e=>o({target:{name:"program_studi",value:e}}),children:[a.jsx(m,{children:a.jsx(h,{placeholder:"Pilih Program Studi"})}),a.jsxs(u,{children:[a.jsx(i,{value:"MI",children:"D3-Manajemen Informatika"}),a.jsx(i,{value:"SI",children:"S1-Sistem Informasi"}),a.jsx(i,{value:"SK",children:"S1-Sistem Komputer"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(g,{htmlFor:"beasiswa",className:"font-medium",children:"Beasiswa"}),a.jsxs(d,{value:l.beasiswa,onValueChange:e=>c(s=>({...s,beasiswa:e})),children:[a.jsx(m,{className:"transition-colors duration-200 focus:border-primary",children:a.jsx(h,{placeholder:"Penerima Beasiswa KIP-Kuliah (Isi Tidak Jika Tidak Penerima)"})}),a.jsxs(u,{children:[a.jsx(i,{value:"iya",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:"Ya (KIP-Kuliah)"})})}),a.jsx(i,{value:"tidak",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("span",{className:"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Tidak"})})})]})]}),t.beasiswa&&a.jsx("p",{className:"text-sm text-destructive",children:t.beasiswa})]}),l.beasiswa==="tidak"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(g,{htmlFor:"kelas",className:"font-medium",children:"Kelas"}),a.jsxs(d,{value:l.kelas,onValueChange:e=>c(s=>({...s,kelas:e})),children:[a.jsx(m,{className:"transition-colors duration-200 focus:border-primary",children:a.jsx(h,{placeholder:"Pilih Kelas"})}),a.jsxs(u,{children:[a.jsx(i,{value:"reguler",children:"Non Kerja"}),a.jsx(i,{value:"kerja",children:"Kerja"})]})]}),t.kelas&&a.jsx("p",{className:"text-sm text-destructive",children:t.kelas})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"foto",children:"Foto"}),a.jsx(r,{type:"file",id:"foto",name:"foto",onChange:_,accept:"image/*",className:"mt-1"})]})]}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx(N,{type:"submit",disabled:f,children:f?"Menyimpan...":"Simpan"}),a.jsx(N,{type:"button",variant:"outline",onClick:()=>j.get("/calon-mahasiswa"),children:"Batal"})]})]})]})})})]})}export{z as default};
